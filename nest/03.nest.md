# 2 nest
In this chapter, we will detail how to use the binary `nest`.
As explained before, this binary is mainly designed for ease of use.
However, anyone can use it.

## 2.1 nest options
`nest` has three options available:

* `-h` or `--help`, which prints the help information of `nest`, consisting of a short explanation for each of `nest`'s options and commands.
* `-v`, which sets the level of verbosity for `nest`. Basically, how much `nest` will explain what it's doing in the terminal.
* `-V` or `--version`, which prints the version of `nest` you are currently using.

To use them, simply type `nest` followed by any option. For example, `nest -h`.

## 2.2 nest commands
### 2.2.1 Updating the list of available packages with `nest pull`
This command synchronizes the cache of local packages with the one on Raven's server.
In other words, `nest pull` updates the list of available packages for you to install with Nest.
You have to run this command frequently (at least before installing or upgrading a package) in order to have an up to date cache.
Otherwise, you might not be able to install new packages, or new versions of packages that were uploaded after the last time you ran `nest pull`.

#### Common issues
* `error: unable to pull repository stable: no working mirror found`

[//]: # (TODO: add link to the section 3.1.3)
Basically, this error means that `nest` couldn't pull the repository `stable`.
The most common reason is that there's an issue with your Internet connection.
It might also be that all the mirrors in the repositories configuration file are down, so you need to add working mirrors to the list.
You can have more information about this file and mirrors in [the section 3.1.3]().

### 2.2.2 Installing and uninstalling a package
#### Installing a package with `nest install`
[//]: # (TODO: add link to the section 1.4)
`nest install` is the command to install a package.
To do so, run `nest install <package>` in a terminal.
Don't forget to use the syntax explained in [the section 1.4]() for the package name!

`nest` will print an error message if more than one package matches the syntax you wrote.
In that case, you should first refine your package name.
To help you with that, you can go on [the official Raven-OS website](https://stable.raven-os.org), which will show you all the packages in the `stable` repository, with their category and all  versions released.

For example, the output of `nest install stable::sys-bin/ncurses6-bin` is as followed:
```
$ nest install ncurses6-bin
4 pending transactions:

 install stable::sys-lib/libncurses6-term#6.1.0
 install stable::sys-lib/libc6#2.28.0
 install stable::sys-lib/libncursestw6#6.1.0
 install stable::sys-bin/ncurses6-bin#6.1.0

Would you like to apply these transactions? [Yes/no]
```

As you can see, the last package listed above is the package you initially asked to install, and above it are all the dependencies that it has and that aren't already installed.
You will then be prompted with the question `Would you like to apply these transactions?`, which you can answer with either '*yes*', '*Yes*', '*Y*', '*y*', or '*no*', '*No*', '*n*', '*N*'.

An important thing to note, is that when Nest (and most CLI programs) ask you a closed question like this one, the default answer usually begins with an uppercase letter.
So in this case, just pressing enter is equivalent to typing `yes` and then pressing enter.

#### Uninstalling a package with `nest uninstall`
The command to uninstall a package is `nest uninstall <package>`.

It will remove the given package, its binaries, libraries, manual pages...
Basically everything that was installed with it, but it will keep all the files generated by the package itself.
So, if this package was a text editor for example, the files you created or edited with it won't be altered if you uninstall the package.

However, this may not remove all the package's dependencies, because some of them might still be used by another installed package.

#### Common issues
* `error: no package found for requirement <package>`

This error could mean that you want to install a package that isn't in Nest's cache, so, `nest` can't find it and install it.
Try running `nest pull` and then running your command again.

Another possible explanation is that the package you wanted to install can't be found.
You should check the package name syntax, in case you mistyped the repository, the category, the package name itself or the version.
You can always check [on Raven-OS website](https://stable.raven-os.org/) as mentioned above, to make sure you haven't made any mistakes.

* `error: unable to find an installed package matching <package>`

The package you wanted to uninstall can't be found.
You have to check the package name syntax for any typo, and that you already have this package installed.

### 2.3 Summary
This concludes this chapter dedicated to `nest`!
We saw how to update Nest's cache using `nest pull`, and how to install and to uninstall packages using `nest install` and `nest uninstall` respectively.
Now that you are familiar with `nest`, the next chapter will explain some advanced concepts related to `nest`, which will help understanding how `nest` works, but aren't strictly needed for the use of `nest`.
Readers interested in using `finest` should read the next chapter as well, because those concepts are important in order to use `finest`.